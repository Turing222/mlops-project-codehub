{"timestamp": "2026-01-31T00:35:51.315013", "level": "INFO", "message": "系统初始化完成", "logger": "app.main", "module": "main", "func_name": "<module>", "line_no": 26}
{"timestamp": "2026-01-31T00:39:19.963687", "level": "INFO", "message": "系统初始化完成", "logger": "app.main", "module": "main", "func_name": "<module>", "line_no": 26}
{"timestamp": "2026-01-31T00:51:52.232029", "level": "INFO", "message": "系统初始化完成", "logger": "app.main", "module": "main", "func_name": "<module>", "line_no": 26}
{"timestamp": "2026-01-31T01:15:36.909183", "level": "INFO", "message": "系统初始化完成", "logger": "app.main", "module": "main", "func_name": "<module>", "line_no": 26}
{"timestamp": "2026-01-31T01:15:36.910124", "level": "INFO", "message": "系统初始化完成", "logger": "app.main", "module": "main", "func_name": "<module>", "line_no": 26}
{"timestamp": "2026-01-31T01:17:38.790117", "level": "INFO", "message": "系统初始化完成", "logger": "app.main", "module": "main", "func_name": "<module>", "line_no": 26}
{"timestamp": "2026-01-31T01:17:38.790180", "level": "INFO", "message": "系统初始化完成", "logger": "app.main", "module": "main", "func_name": "<module>", "line_no": 26}
{"timestamp": "2026-01-31T01:17:51.164816", "level": "INFO", "message": "系统初始化完成", "logger": "app.main", "module": "main", "func_name": "<module>", "line_no": 26}
{"timestamp": "2026-01-31T01:17:51.341522", "level": "INFO", "message": "系统初始化完成", "logger": "app.main", "module": "main", "func_name": "<module>", "line_no": 26}
{"timestamp": "2026-01-31T01:24:00.769986", "level": "INFO", "message": "系统初始化完成", "logger": "app.main", "module": "main", "func_name": "<module>", "line_no": 26}
{"timestamp": "2026-01-31T01:24:01.155426", "level": "INFO", "message": "系统初始化完成", "logger": "app.main", "module": "main", "func_name": "<module>", "line_no": 26}
{"timestamp": "2026-01-31T01:24:48.496924", "level": "INFO", "message": "select pg_catalog.version()", "logger": "sqlalchemy.engine.Engine", "module": "base", "func_name": "_execute_context", "line_no": 1846}
{"timestamp": "2026-01-31T01:24:48.497126", "level": "INFO", "message": "[raw sql] ()", "logger": "sqlalchemy.engine.Engine", "module": "base", "func_name": "_execute_context", "line_no": 1846}
{"timestamp": "2026-01-31T01:24:48.511399", "level": "INFO", "message": "select current_schema()", "logger": "sqlalchemy.engine.Engine", "module": "base", "func_name": "_execute_context", "line_no": 1846}
{"timestamp": "2026-01-31T01:24:48.511634", "level": "INFO", "message": "[raw sql] ()", "logger": "sqlalchemy.engine.Engine", "module": "base", "func_name": "_execute_context", "line_no": 1846}
{"timestamp": "2026-01-31T01:24:48.514733", "level": "INFO", "message": "show standard_conforming_strings", "logger": "sqlalchemy.engine.Engine", "module": "base", "func_name": "_execute_context", "line_no": 1846}
{"timestamp": "2026-01-31T01:24:48.514937", "level": "INFO", "message": "[raw sql] ()", "logger": "sqlalchemy.engine.Engine", "module": "base", "func_name": "_execute_context", "line_no": 1846}
{"timestamp": "2026-01-31T01:24:48.516301", "level": "INFO", "message": "BEGIN (implicit)", "logger": "sqlalchemy.engine.Engine", "module": "base", "func_name": "_connection_begin_impl", "line_no": 2710}
{"timestamp": "2026-01-31T01:24:48.518981", "level": "INFO", "message": "SELECT users.username, users.email, users.is_active, users.is_superuser, users.hashed_password, users.id, users.created_at, users.updated_at \nFROM users \nWHERE users.email = $1::VARCHAR", "logger": "sqlalchemy.engine.Engine", "module": "base", "func_name": "_execute_context", "line_no": 1846}
{"timestamp": "2026-01-31T01:24:48.519145", "level": "INFO", "message": "[generated in 0.00021s] ('user@example.com',)", "logger": "sqlalchemy.engine.Engine", "module": "base", "func_name": "_execute_context", "line_no": 1846}
{"timestamp": "2026-01-31T01:24:48.535998", "level": "INFO", "message": "ROLLBACK", "logger": "sqlalchemy.engine.Engine", "module": "base", "func_name": "_connection_rollback_impl", "line_no": 2713}
{"timestamp": "2026-01-31T01:24:48.540955", "level": "ERROR", "message": "全局异常捕获: POST http://127.0.0.1:8000/api/v1/auth/register - 该邮箱已被注册", "logger": "app.core.exceptions", "module": "exceptions", "func_name": "global_exception_handler", "line_no": 44, "exception": "Traceback (most recent call last):\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/fastapi/routing.py\", line 118, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/fastapi/routing.py\", line 104, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/fastapi/routing.py\", line 428, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/fastapi/routing.py\", line 314, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/tongying/workspace/mlops-project/app/api/v1/endpoint/auth.py\", line 23, in register\n    user = await UserService(uow).user_register(user_in)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/tongying/workspace/mlops-project/app/services/user_service.py\", line 147, in user_register\n    raise ValidationError(\"该邮箱已被注册\")\napp.core.exceptions.ValidationError: 该邮箱已被注册"}
{"timestamp": "2026-01-31T01:25:05.799096", "level": "INFO", "message": "BEGIN (implicit)", "logger": "sqlalchemy.engine.Engine", "module": "base", "func_name": "_connection_begin_impl", "line_no": 2710}
{"timestamp": "2026-01-31T01:25:05.799746", "level": "INFO", "message": "SELECT users.username, users.email, users.is_active, users.is_superuser, users.hashed_password, users.id, users.created_at, users.updated_at \nFROM users \nWHERE users.email = $1::VARCHAR", "logger": "sqlalchemy.engine.Engine", "module": "base", "func_name": "_execute_context", "line_no": 1846}
{"timestamp": "2026-01-31T01:25:05.799990", "level": "INFO", "message": "[cached since 18.07s ago] ('user@exam1ple.com',)", "logger": "sqlalchemy.engine.Engine", "module": "base", "func_name": "_execute_context", "line_no": 1846}
{"timestamp": "2026-01-31T01:25:06.006134", "level": "INFO", "message": "INSERT INTO users (username, email, is_active, is_superuser, hashed_password, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::BOOLEAN, $4::BOOLEAN, $5::VARCHAR, $6::UUID) RETURNING users.created_at, users.updated_at", "logger": "sqlalchemy.engine.Engine", "module": "base", "func_name": "_execute_context", "line_no": 1846}
{"timestamp": "2026-01-31T01:25:06.006336", "level": "INFO", "message": "[generated in 0.00034s] ('dwrepglszswg9aly8za7', 'user@exam1ple.com', True, False, '$2b$12$3ac1l6.YxrboIRkX/mj7H.LLaFavCf.lz31nO5ja/oxuxPKlSHzia', UUID('019c0fef-e556-cd1b-16b7-7742fe0617cd'))", "logger": "sqlalchemy.engine.Engine", "module": "base", "func_name": "_execute_context", "line_no": 1846}
{"timestamp": "2026-01-31T01:25:06.011476", "level": "INFO", "message": "SELECT users.username, users.email, users.is_active, users.is_superuser, users.hashed_password, users.id, users.created_at, users.updated_at \nFROM users \nWHERE users.id = $1::UUID", "logger": "sqlalchemy.engine.Engine", "module": "base", "func_name": "_execute_context", "line_no": 1846}
{"timestamp": "2026-01-31T01:25:06.011636", "level": "INFO", "message": "[generated in 0.00021s] (UUID('019c0fef-e556-cd1b-16b7-7742fe0617cd'),)", "logger": "sqlalchemy.engine.Engine", "module": "base", "func_name": "_execute_context", "line_no": 1846}
{"timestamp": "2026-01-31T01:25:06.013377", "level": "INFO", "message": "COMMIT", "logger": "sqlalchemy.engine.Engine", "module": "base", "func_name": "_connection_commit_impl", "line_no": 2716}
{"timestamp": "2026-01-31T01:25:33.382930", "level": "INFO", "message": "BEGIN (implicit)", "logger": "sqlalchemy.engine.Engine", "module": "base", "func_name": "_connection_begin_impl", "line_no": 2710}
{"timestamp": "2026-01-31T01:25:33.383696", "level": "INFO", "message": "SELECT users.username, users.email, users.is_active, users.is_superuser, users.hashed_password, users.id, users.created_at, users.updated_at \nFROM users \nWHERE users.username = $1::VARCHAR", "logger": "sqlalchemy.engine.Engine", "module": "base", "func_name": "_execute_context", "line_no": 1846}
{"timestamp": "2026-01-31T01:25:33.383842", "level": "INFO", "message": "[generated in 0.00025s] ('dwrepglszswg9aly8za7',)", "logger": "sqlalchemy.engine.Engine", "module": "base", "func_name": "_execute_context", "line_no": 1846}
{"timestamp": "2026-01-31T01:25:33.397319", "level": "INFO", "message": "COMMIT", "logger": "sqlalchemy.engine.Engine", "module": "base", "func_name": "_connection_commit_impl", "line_no": 2716}
{"timestamp": "2026-01-31T01:25:35.118165", "level": "INFO", "message": "BEGIN (implicit)", "logger": "sqlalchemy.engine.Engine", "module": "base", "func_name": "_connection_begin_impl", "line_no": 2710}
{"timestamp": "2026-01-31T01:25:35.118477", "level": "INFO", "message": "SELECT users.username, users.email, users.is_active, users.is_superuser, users.hashed_password, users.id, users.created_at, users.updated_at \nFROM users \nWHERE users.username = $1::VARCHAR", "logger": "sqlalchemy.engine.Engine", "module": "base", "func_name": "_execute_context", "line_no": 1846}
{"timestamp": "2026-01-31T01:25:35.118662", "level": "INFO", "message": "[cached since 1.735s ago] ('dwrepglszswg9aly8za7',)", "logger": "sqlalchemy.engine.Engine", "module": "base", "func_name": "_execute_context", "line_no": 1846}
{"timestamp": "2026-01-31T01:25:35.120533", "level": "INFO", "message": "COMMIT", "logger": "sqlalchemy.engine.Engine", "module": "base", "func_name": "_connection_commit_impl", "line_no": 2716}
{"timestamp": "2026-01-31T01:25:44.036986", "level": "INFO", "message": "BEGIN (implicit)", "logger": "sqlalchemy.engine.Engine", "module": "base", "func_name": "_connection_begin_impl", "line_no": 2710}
{"timestamp": "2026-01-31T01:25:44.037288", "level": "INFO", "message": "SELECT users.username, users.email, users.is_active, users.is_superuser, users.hashed_password, users.id, users.created_at, users.updated_at \nFROM users \nWHERE users.username = $1::VARCHAR", "logger": "sqlalchemy.engine.Engine", "module": "base", "func_name": "_execute_context", "line_no": 1846}
{"timestamp": "2026-01-31T01:25:44.037452", "level": "INFO", "message": "[cached since 10.65s ago] ('n2jzfpdhwlzzj2jrjmsf',)", "logger": "sqlalchemy.engine.Engine", "module": "base", "func_name": "_execute_context", "line_no": 1846}
{"timestamp": "2026-01-31T01:25:44.038758", "level": "INFO", "message": "COMMIT", "logger": "sqlalchemy.engine.Engine", "module": "base", "func_name": "_connection_commit_impl", "line_no": 2716}
{"timestamp": "2026-01-31T01:25:50.491287", "level": "ERROR", "message": "全局异常捕获: GET http://127.0.0.1:8000/api/v1/users/me - CRUDBase.get_by() takes 1 positional argument but 2 were given", "logger": "app.core.exceptions", "module": "exceptions", "func_name": "global_exception_handler", "line_no": 44, "exception": "Traceback (most recent call last):\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/fastapi/routing.py\", line 118, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/fastapi/routing.py\", line 104, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/fastapi/routing.py\", line 418, in app\n    solved_result = await solve_dependencies(\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/fastapi/dependencies/utils.py\", line 640, in solve_dependencies\n    solved_result = await solve_dependencies(\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/fastapi/dependencies/utils.py\", line 669, in solve_dependencies\n    solved = await call(**solved_result.values)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/tongying/workspace/mlops-project/app/api/dependencies.py\", line 67, in get_current_user\n    user = await UserRepository(session).get_by(user_id)\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: CRUDBase.get_by() takes 1 positional argument but 2 were given"}
{"timestamp": "2026-01-31T01:25:54.362421", "level": "ERROR", "message": "全局异常捕获: GET http://127.0.0.1:8000/api/v1/users/me - CRUDBase.get_by() takes 1 positional argument but 2 were given", "logger": "app.core.exceptions", "module": "exceptions", "func_name": "global_exception_handler", "line_no": 44, "exception": "Traceback (most recent call last):\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/fastapi/routing.py\", line 118, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/fastapi/routing.py\", line 104, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/fastapi/routing.py\", line 418, in app\n    solved_result = await solve_dependencies(\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/fastapi/dependencies/utils.py\", line 640, in solve_dependencies\n    solved_result = await solve_dependencies(\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/fastapi/dependencies/utils.py\", line 669, in solve_dependencies\n    solved = await call(**solved_result.values)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/tongying/workspace/mlops-project/app/api/dependencies.py\", line 67, in get_current_user\n    user = await UserRepository(session).get_by(user_id)\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: CRUDBase.get_by() takes 1 positional argument but 2 were given"}
{"timestamp": "2026-01-31T01:37:50.363610", "level": "INFO", "message": "系统初始化完成", "logger": "app.main", "module": "main", "func_name": "<module>", "line_no": 26}
{"timestamp": "2026-01-31T01:37:50.363616", "level": "INFO", "message": "系统初始化完成", "logger": "app.main", "module": "main", "func_name": "<module>", "line_no": 26}
{"timestamp": "2026-01-31T01:38:45.395742", "level": "INFO", "message": "系统初始化完成", "logger": "app.main", "module": "main", "func_name": "<module>", "line_no": 26}
{"timestamp": "2026-01-31T01:38:45.966284", "level": "INFO", "message": "系统初始化完成", "logger": "app.main", "module": "main", "func_name": "<module>", "line_no": 26}
{"timestamp": "2026-01-31T01:38:47.837438", "level": "ERROR", "message": "全局异常捕获: GET http://127.0.0.1:8000/api/v1/users/me - CRUDBase.get_by() takes 1 positional argument but 2 were given", "logger": "app.core.exceptions", "module": "exceptions", "func_name": "global_exception_handler", "line_no": 44, "exception": "Traceback (most recent call last):\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/fastapi/routing.py\", line 118, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/fastapi/routing.py\", line 104, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/fastapi/routing.py\", line 418, in app\n    solved_result = await solve_dependencies(\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/fastapi/dependencies/utils.py\", line 640, in solve_dependencies\n    solved_result = await solve_dependencies(\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/fastapi/dependencies/utils.py\", line 669, in solve_dependencies\n    solved = await call(**solved_result.values)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/tongying/workspace/mlops-project/app/api/dependencies.py\", line 72, in get_current_user\n    user = await UserRepository(session).get_by(user_id)\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: CRUDBase.get_by() takes 1 positional argument but 2 were given"}
{"timestamp": "2026-01-31T01:42:12.715685", "level": "INFO", "message": "系统初始化完成", "logger": "app.main", "module": "main", "func_name": "<module>", "line_no": 26}
{"timestamp": "2026-01-31T01:42:13.130304", "level": "INFO", "message": "系统初始化完成", "logger": "app.main", "module": "main", "func_name": "<module>", "line_no": 26}
{"timestamp": "2026-01-31T01:42:16.759348", "level": "ERROR", "message": "全局异常捕获: GET http://127.0.0.1:8000/api/v1/users/me - CRUDBase.get_by() takes 1 positional argument but 2 were given", "logger": "app.core.exceptions", "module": "exceptions", "func_name": "global_exception_handler", "line_no": 44, "exception": "Traceback (most recent call last):\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/fastapi/routing.py\", line 118, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/fastapi/routing.py\", line 104, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/fastapi/routing.py\", line 418, in app\n    solved_result = await solve_dependencies(\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/fastapi/dependencies/utils.py\", line 640, in solve_dependencies\n    solved_result = await solve_dependencies(\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/fastapi/dependencies/utils.py\", line 669, in solve_dependencies\n    solved = await call(**solved_result.values)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/tongying/workspace/mlops-project/app/api/dependencies.py\", line 72, in get_current_user\n    user = await UserRepository(session).get_by(user_id)\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: CRUDBase.get_by() takes 1 positional argument but 2 were given"}
{"timestamp": "2026-01-31T01:44:12.973122", "level": "INFO", "message": "系统初始化完成", "logger": "app.main", "module": "main", "func_name": "<module>", "line_no": 26}
{"timestamp": "2026-01-31T01:44:13.438962", "level": "INFO", "message": "系统初始化完成", "logger": "app.main", "module": "main", "func_name": "<module>", "line_no": 26}
{"timestamp": "2026-01-31T01:44:16.869851", "level": "ERROR", "message": "全局异常捕获: GET http://127.0.0.1:8000/api/v1/users/me - CRUDBase.get_by() takes 1 positional argument but 2 were given", "logger": "app.core.exceptions", "module": "exceptions", "func_name": "global_exception_handler", "line_no": 44, "exception": "Traceback (most recent call last):\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/fastapi/routing.py\", line 118, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/fastapi/routing.py\", line 104, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/fastapi/routing.py\", line 418, in app\n    solved_result = await solve_dependencies(\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/fastapi/dependencies/utils.py\", line 640, in solve_dependencies\n    solved_result = await solve_dependencies(\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/fastapi/dependencies/utils.py\", line 669, in solve_dependencies\n    solved = await call(**solved_result.values)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/tongying/workspace/mlops-project/app/api/dependencies.py\", line 72, in get_current_user\n    user = await UserRepository(session).get_by(user_id)\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: CRUDBase.get_by() takes 1 positional argument but 2 were given"}
{"timestamp": "2026-01-31T01:51:13.388223", "level": "INFO", "message": "系统初始化完成", "logger": "app.main", "module": "main", "func_name": "<module>", "line_no": 26}
{"timestamp": "2026-01-31T01:51:13.861120", "level": "INFO", "message": "系统初始化完成", "logger": "app.main", "module": "main", "func_name": "<module>", "line_no": 26}
{"timestamp": "2026-01-31T01:55:15.411478", "level": "INFO", "message": "select pg_catalog.version()", "logger": "sqlalchemy.engine.Engine", "module": "base", "func_name": "_execute_context", "line_no": 1846}
{"timestamp": "2026-01-31T01:55:15.412191", "level": "INFO", "message": "[raw sql] ()", "logger": "sqlalchemy.engine.Engine", "module": "base", "func_name": "_execute_context", "line_no": 1846}
{"timestamp": "2026-01-31T01:55:15.414276", "level": "INFO", "message": "select current_schema()", "logger": "sqlalchemy.engine.Engine", "module": "base", "func_name": "_execute_context", "line_no": 1846}
{"timestamp": "2026-01-31T01:55:15.414449", "level": "INFO", "message": "[raw sql] ()", "logger": "sqlalchemy.engine.Engine", "module": "base", "func_name": "_execute_context", "line_no": 1846}
{"timestamp": "2026-01-31T01:55:15.415944", "level": "INFO", "message": "show standard_conforming_strings", "logger": "sqlalchemy.engine.Engine", "module": "base", "func_name": "_execute_context", "line_no": 1846}
{"timestamp": "2026-01-31T01:55:15.416081", "level": "INFO", "message": "[raw sql] ()", "logger": "sqlalchemy.engine.Engine", "module": "base", "func_name": "_execute_context", "line_no": 1846}
{"timestamp": "2026-01-31T01:55:15.417269", "level": "INFO", "message": "BEGIN (implicit)", "logger": "sqlalchemy.engine.Engine", "module": "base", "func_name": "_connection_begin_impl", "line_no": 2710}
{"timestamp": "2026-01-31T01:55:15.420066", "level": "INFO", "message": "SELECT users.username AS users_username, users.email AS users_email, users.is_active AS users_is_active, users.is_superuser AS users_is_superuser, users.hashed_password AS users_hashed_password, users.id AS users_id, users.created_at AS users_created_at, users.updated_at AS users_updated_at \nFROM users \nWHERE users.id = $1::UUID", "logger": "sqlalchemy.engine.Engine", "module": "base", "func_name": "_execute_context", "line_no": 1846}
{"timestamp": "2026-01-31T01:55:15.420294", "level": "INFO", "message": "[generated in 0.00029s] ('019bfb48-46df-b1f4-782c-04769ab392e4',)", "logger": "sqlalchemy.engine.Engine", "module": "base", "func_name": "_execute_context", "line_no": 1846}
{"timestamp": "2026-01-31T01:55:15.432684", "level": "INFO", "message": "ROLLBACK", "logger": "sqlalchemy.engine.Engine", "module": "base", "func_name": "_connection_rollback_impl", "line_no": 2713}
{"timestamp": "2026-01-31T02:01:51.369817", "level": "ERROR", "message": "全局异常捕获: PATCH http://127.0.0.1:8000/api/v1/users/019c0fef-e556-cd1b-16b7-7742fe0617cd - UserService.user_update() got an unexpected keyword argument 'user_id'", "logger": "app.core.exceptions", "module": "exceptions", "func_name": "global_exception_handler", "line_no": 44, "exception": "Traceback (most recent call last):\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/fastapi/routing.py\", line 118, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/fastapi/routing.py\", line 104, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/fastapi/routing.py\", line 428, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/fastapi/routing.py\", line 314, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/tongying/workspace/mlops-project/app/api/v1/endpoint/user.py\", line 69, in update_user\n    updated_user = await UserService(uow).user_update(\n                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: UserService.user_update() got an unexpected keyword argument 'user_id'"}
{"timestamp": "2026-01-31T02:01:54.913855", "level": "ERROR", "message": "全局异常捕获: PATCH http://127.0.0.1:8000/api/v1/users/019c0fef-e556-cd1b-16b7-7742fe0617cd - UserService.user_update() got an unexpected keyword argument 'user_id'", "logger": "app.core.exceptions", "module": "exceptions", "func_name": "global_exception_handler", "line_no": 44, "exception": "Traceback (most recent call last):\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/fastapi/routing.py\", line 118, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/fastapi/routing.py\", line 104, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/fastapi/routing.py\", line 428, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/fastapi/routing.py\", line 314, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/tongying/workspace/mlops-project/app/api/v1/endpoint/user.py\", line 69, in update_user\n    updated_user = await UserService(uow).user_update(\n                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: UserService.user_update() got an unexpected keyword argument 'user_id'"}
{"timestamp": "2026-01-31T02:06:36.419325", "level": "INFO", "message": "系统初始化完成", "logger": "app.main", "module": "main", "func_name": "<module>", "line_no": 26}
{"timestamp": "2026-01-31T02:06:36.419683", "level": "INFO", "message": "系统初始化完成", "logger": "app.main", "module": "main", "func_name": "<module>", "line_no": 26}
{"timestamp": "2026-01-31T02:06:37.148246", "level": "ERROR", "message": "全局异常捕获: PATCH http://127.0.0.1:8000/api/v1/users/019c0fef-e556-cd1b-16b7-7742fe0617cd - 'UserService' object has no attribute 'get'", "logger": "app.core.exceptions", "module": "exceptions", "func_name": "global_exception_handler", "line_no": 44, "exception": "Traceback (most recent call last):\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/fastapi/routing.py\", line 118, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/fastapi/routing.py\", line 104, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/fastapi/routing.py\", line 428, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/fastapi/routing.py\", line 314, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/tongying/workspace/mlops-project/app/api/v1/endpoint/user.py\", line 70, in update_user\n    updated_user = await UserService(uow).get(user_id)\n                         ^^^^^^^^^^^^^^^^^^^^\nAttributeError: 'UserService' object has no attribute 'get'"}
{"timestamp": "2026-01-31T02:09:26.247598", "level": "INFO", "message": "系统初始化完成", "logger": "app.main", "module": "main", "func_name": "<module>", "line_no": 26}
{"timestamp": "2026-01-31T02:09:26.249077", "level": "INFO", "message": "系统初始化完成", "logger": "app.main", "module": "main", "func_name": "<module>", "line_no": 26}
{"timestamp": "2026-01-31T02:09:26.301611", "level": "INFO", "message": "select pg_catalog.version()", "logger": "sqlalchemy.engine.Engine", "module": "base", "func_name": "_execute_context", "line_no": 1846}
{"timestamp": "2026-01-31T02:09:26.301854", "level": "INFO", "message": "[raw sql] ()", "logger": "sqlalchemy.engine.Engine", "module": "base", "func_name": "_execute_context", "line_no": 1846}
{"timestamp": "2026-01-31T02:09:26.303847", "level": "INFO", "message": "select current_schema()", "logger": "sqlalchemy.engine.Engine", "module": "base", "func_name": "_execute_context", "line_no": 1846}
{"timestamp": "2026-01-31T02:09:26.304045", "level": "INFO", "message": "[raw sql] ()", "logger": "sqlalchemy.engine.Engine", "module": "base", "func_name": "_execute_context", "line_no": 1846}
{"timestamp": "2026-01-31T02:09:26.305614", "level": "INFO", "message": "show standard_conforming_strings", "logger": "sqlalchemy.engine.Engine", "module": "base", "func_name": "_execute_context", "line_no": 1846}
{"timestamp": "2026-01-31T02:09:26.305799", "level": "INFO", "message": "[raw sql] ()", "logger": "sqlalchemy.engine.Engine", "module": "base", "func_name": "_execute_context", "line_no": 1846}
{"timestamp": "2026-01-31T02:09:26.307142", "level": "INFO", "message": "BEGIN (implicit)", "logger": "sqlalchemy.engine.Engine", "module": "base", "func_name": "_connection_begin_impl", "line_no": 2710}
{"timestamp": "2026-01-31T02:09:26.310069", "level": "INFO", "message": "SELECT users.username AS users_username, users.email AS users_email, users.is_active AS users_is_active, users.is_superuser AS users_is_superuser, users.hashed_password AS users_hashed_password, users.id AS users_id, users.created_at AS users_created_at, users.updated_at AS users_updated_at \nFROM users \nWHERE users.id = $1::UUID", "logger": "sqlalchemy.engine.Engine", "module": "base", "func_name": "_execute_context", "line_no": 1846}
{"timestamp": "2026-01-31T02:09:26.310277", "level": "INFO", "message": "[generated in 0.00028s] (UUID('019c0fef-e556-cd1b-16b7-7742fe0617cd'),)", "logger": "sqlalchemy.engine.Engine", "module": "base", "func_name": "_execute_context", "line_no": 1846}
{"timestamp": "2026-01-31T02:09:26.312633", "level": "INFO", "message": "ROLLBACK", "logger": "sqlalchemy.engine.Engine", "module": "base", "func_name": "_connection_rollback_impl", "line_no": 2713}
{"timestamp": "2026-01-31T02:09:26.317600", "level": "ERROR", "message": "全局异常捕获: PATCH http://127.0.0.1:8000/api/v1/users/019c0fef-e556-cd1b-16b7-7742fe0617cd - UserService.user_update() got an unexpected keyword argument 'update_schema'", "logger": "app.core.exceptions", "module": "exceptions", "func_name": "global_exception_handler", "line_no": 44, "exception": "Traceback (most recent call last):\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/fastapi/routing.py\", line 118, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/fastapi/routing.py\", line 104, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/fastapi/routing.py\", line 428, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/fastapi/routing.py\", line 314, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/tongying/workspace/mlops-project/app/api/v1/endpoint/user.py\", line 71, in update_user\n    updated_user = await UserService(uow).user_update(update_schema=user_in)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: UserService.user_update() got an unexpected keyword argument 'update_schema'"}
{"timestamp": "2026-01-31T02:10:15.387856", "level": "INFO", "message": "系统初始化完成", "logger": "app.main", "module": "main", "func_name": "<module>", "line_no": 26}
{"timestamp": "2026-01-31T02:10:15.433036", "level": "INFO", "message": "select pg_catalog.version()", "logger": "sqlalchemy.engine.Engine", "module": "base", "func_name": "_execute_context", "line_no": 1846}
{"timestamp": "2026-01-31T02:10:15.433281", "level": "INFO", "message": "[raw sql] ()", "logger": "sqlalchemy.engine.Engine", "module": "base", "func_name": "_execute_context", "line_no": 1846}
{"timestamp": "2026-01-31T02:10:15.435223", "level": "INFO", "message": "select current_schema()", "logger": "sqlalchemy.engine.Engine", "module": "base", "func_name": "_execute_context", "line_no": 1846}
{"timestamp": "2026-01-31T02:10:15.435397", "level": "INFO", "message": "[raw sql] ()", "logger": "sqlalchemy.engine.Engine", "module": "base", "func_name": "_execute_context", "line_no": 1846}
{"timestamp": "2026-01-31T02:10:15.436949", "level": "INFO", "message": "show standard_conforming_strings", "logger": "sqlalchemy.engine.Engine", "module": "base", "func_name": "_execute_context", "line_no": 1846}
{"timestamp": "2026-01-31T02:10:15.437108", "level": "INFO", "message": "[raw sql] ()", "logger": "sqlalchemy.engine.Engine", "module": "base", "func_name": "_execute_context", "line_no": 1846}
{"timestamp": "2026-01-31T02:10:15.438346", "level": "INFO", "message": "BEGIN (implicit)", "logger": "sqlalchemy.engine.Engine", "module": "base", "func_name": "_connection_begin_impl", "line_no": 2710}
{"timestamp": "2026-01-31T02:10:15.441628", "level": "INFO", "message": "SELECT users.username AS users_username, users.email AS users_email, users.is_active AS users_is_active, users.is_superuser AS users_is_superuser, users.hashed_password AS users_hashed_password, users.id AS users_id, users.created_at AS users_created_at, users.updated_at AS users_updated_at \nFROM users \nWHERE users.id = $1::UUID", "logger": "sqlalchemy.engine.Engine", "module": "base", "func_name": "_execute_context", "line_no": 1846}
{"timestamp": "2026-01-31T02:10:15.441963", "level": "INFO", "message": "[generated in 0.00044s] (UUID('019c0fef-e556-cd1b-16b7-7742fe0617cd'),)", "logger": "sqlalchemy.engine.Engine", "module": "base", "func_name": "_execute_context", "line_no": 1846}
{"timestamp": "2026-01-31T02:10:15.444239", "level": "INFO", "message": "ROLLBACK", "logger": "sqlalchemy.engine.Engine", "module": "base", "func_name": "_connection_rollback_impl", "line_no": 2713}
{"timestamp": "2026-01-31T02:10:15.447201", "level": "ERROR", "message": "全局异常捕获: PATCH http://127.0.0.1:8000/api/v1/users/019c0fef-e556-cd1b-16b7-7742fe0617cd - CRUDBase.update() missing 1 required keyword-only argument: 'db_obj'", "logger": "app.core.exceptions", "module": "exceptions", "func_name": "global_exception_handler", "line_no": 44, "exception": "Traceback (most recent call last):\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/fastapi/routing.py\", line 118, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/fastapi/routing.py\", line 104, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/fastapi/routing.py\", line 428, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/fastapi/routing.py\", line 314, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/tongying/workspace/mlops-project/app/api/v1/endpoint/user.py\", line 71, in update_user\n    updated_user = await UserService(uow).user_update(user_in)\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/tongying/workspace/mlops-project/app/services/user_service.py\", line 172, in user_update\n    user = await self.uow.users.update(obj_in=user_in)\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: CRUDBase.update() missing 1 required keyword-only argument: 'db_obj'"}
{"timestamp": "2026-01-31T02:10:15.644157", "level": "INFO", "message": "系统初始化完成", "logger": "app.main", "module": "main", "func_name": "<module>", "line_no": 26}
{"timestamp": "2026-01-31T02:12:13.239358", "level": "INFO", "message": "系统初始化完成", "logger": "app.main", "module": "main", "func_name": "<module>", "line_no": 26}
{"timestamp": "2026-01-31T02:12:13.294298", "level": "INFO", "message": "select pg_catalog.version()", "logger": "sqlalchemy.engine.Engine", "module": "base", "func_name": "_execute_context", "line_no": 1846}
{"timestamp": "2026-01-31T02:12:13.294545", "level": "INFO", "message": "[raw sql] ()", "logger": "sqlalchemy.engine.Engine", "module": "base", "func_name": "_execute_context", "line_no": 1846}
{"timestamp": "2026-01-31T02:12:13.296395", "level": "INFO", "message": "select current_schema()", "logger": "sqlalchemy.engine.Engine", "module": "base", "func_name": "_execute_context", "line_no": 1846}
{"timestamp": "2026-01-31T02:12:13.296556", "level": "INFO", "message": "[raw sql] ()", "logger": "sqlalchemy.engine.Engine", "module": "base", "func_name": "_execute_context", "line_no": 1846}
{"timestamp": "2026-01-31T02:12:13.297966", "level": "INFO", "message": "show standard_conforming_strings", "logger": "sqlalchemy.engine.Engine", "module": "base", "func_name": "_execute_context", "line_no": 1846}
{"timestamp": "2026-01-31T02:12:13.298111", "level": "INFO", "message": "[raw sql] ()", "logger": "sqlalchemy.engine.Engine", "module": "base", "func_name": "_execute_context", "line_no": 1846}
{"timestamp": "2026-01-31T02:12:13.299275", "level": "INFO", "message": "BEGIN (implicit)", "logger": "sqlalchemy.engine.Engine", "module": "base", "func_name": "_connection_begin_impl", "line_no": 2710}
{"timestamp": "2026-01-31T02:12:13.302192", "level": "INFO", "message": "SELECT users.username AS users_username, users.email AS users_email, users.is_active AS users_is_active, users.is_superuser AS users_is_superuser, users.hashed_password AS users_hashed_password, users.id AS users_id, users.created_at AS users_created_at, users.updated_at AS users_updated_at \nFROM users \nWHERE users.id = $1::UUID", "logger": "sqlalchemy.engine.Engine", "module": "base", "func_name": "_execute_context", "line_no": 1846}
{"timestamp": "2026-01-31T02:12:13.302427", "level": "INFO", "message": "[generated in 0.00031s] (UUID('019c0fef-e556-cd1b-16b7-7742fe0617cd'),)", "logger": "sqlalchemy.engine.Engine", "module": "base", "func_name": "_execute_context", "line_no": 1846}
{"timestamp": "2026-01-31T02:12:13.304677", "level": "INFO", "message": "ROLLBACK", "logger": "sqlalchemy.engine.Engine", "module": "base", "func_name": "_connection_rollback_impl", "line_no": 2713}
{"timestamp": "2026-01-31T02:12:13.307331", "level": "ERROR", "message": "全局异常捕获: PATCH http://127.0.0.1:8000/api/v1/users/019c0fef-e556-cd1b-16b7-7742fe0617cd - CRUDBase.update() takes 1 positional argument but 3 were given", "logger": "app.core.exceptions", "module": "exceptions", "func_name": "global_exception_handler", "line_no": 44, "exception": "Traceback (most recent call last):\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/fastapi/routing.py\", line 118, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/fastapi/routing.py\", line 104, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/fastapi/routing.py\", line 428, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/fastapi/routing.py\", line 314, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/tongying/workspace/mlops-project/app/api/v1/endpoint/user.py\", line 71, in update_user\n    updated_user = await UserService(uow).user_update(user_in)\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/tongying/workspace/mlops-project/app/services/user_service.py\", line 172, in user_update\n    user = await self.uow.users.update(User, user_in)\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: CRUDBase.update() takes 1 positional argument but 3 were given"}
{"timestamp": "2026-01-31T02:12:13.379137", "level": "INFO", "message": "系统初始化完成", "logger": "app.main", "module": "main", "func_name": "<module>", "line_no": 26}
{"timestamp": "2026-01-31T02:13:01.398635", "level": "INFO", "message": "系统初始化完成", "logger": "app.main", "module": "main", "func_name": "<module>", "line_no": 26}
{"timestamp": "2026-01-31T02:13:01.444172", "level": "INFO", "message": "select pg_catalog.version()", "logger": "sqlalchemy.engine.Engine", "module": "base", "func_name": "_execute_context", "line_no": 1846}
{"timestamp": "2026-01-31T02:13:01.444417", "level": "INFO", "message": "[raw sql] ()", "logger": "sqlalchemy.engine.Engine", "module": "base", "func_name": "_execute_context", "line_no": 1846}
{"timestamp": "2026-01-31T02:13:01.446227", "level": "INFO", "message": "select current_schema()", "logger": "sqlalchemy.engine.Engine", "module": "base", "func_name": "_execute_context", "line_no": 1846}
{"timestamp": "2026-01-31T02:13:01.446383", "level": "INFO", "message": "[raw sql] ()", "logger": "sqlalchemy.engine.Engine", "module": "base", "func_name": "_execute_context", "line_no": 1846}
{"timestamp": "2026-01-31T02:13:01.448183", "level": "INFO", "message": "show standard_conforming_strings", "logger": "sqlalchemy.engine.Engine", "module": "base", "func_name": "_execute_context", "line_no": 1846}
{"timestamp": "2026-01-31T02:13:01.448429", "level": "INFO", "message": "[raw sql] ()", "logger": "sqlalchemy.engine.Engine", "module": "base", "func_name": "_execute_context", "line_no": 1846}
{"timestamp": "2026-01-31T02:13:01.449769", "level": "INFO", "message": "BEGIN (implicit)", "logger": "sqlalchemy.engine.Engine", "module": "base", "func_name": "_connection_begin_impl", "line_no": 2710}
{"timestamp": "2026-01-31T02:13:01.452600", "level": "INFO", "message": "SELECT users.username AS users_username, users.email AS users_email, users.is_active AS users_is_active, users.is_superuser AS users_is_superuser, users.hashed_password AS users_hashed_password, users.id AS users_id, users.created_at AS users_created_at, users.updated_at AS users_updated_at \nFROM users \nWHERE users.id = $1::UUID", "logger": "sqlalchemy.engine.Engine", "module": "base", "func_name": "_execute_context", "line_no": 1846}
{"timestamp": "2026-01-31T02:13:01.452789", "level": "INFO", "message": "[generated in 0.00025s] (UUID('019c0fef-e556-cd1b-16b7-7742fe0617cd'),)", "logger": "sqlalchemy.engine.Engine", "module": "base", "func_name": "_execute_context", "line_no": 1846}
{"timestamp": "2026-01-31T02:13:01.455158", "level": "INFO", "message": "ROLLBACK", "logger": "sqlalchemy.engine.Engine", "module": "base", "func_name": "_connection_rollback_impl", "line_no": 2713}
{"timestamp": "2026-01-31T02:13:01.460904", "level": "ERROR", "message": "全局异常捕获: PATCH http://127.0.0.1:8000/api/v1/users/019c0fef-e556-cd1b-16b7-7742fe0617cd - Class 'sqlalchemy.orm.decl_api.DeclarativeAttributeIntercept' is not mapped; was a class (app.models.orm.user.User) supplied where an instance was required?", "logger": "app.core.exceptions", "module": "exceptions", "func_name": "global_exception_handler", "line_no": 44, "exception": "Traceback (most recent call last):\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 3463, in add\n    state = attributes.instance_state(instance)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nAttributeError: type object 'User' has no attribute '_sa_instance_state'\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/fastapi/routing.py\", line 118, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/fastapi/routing.py\", line 104, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/fastapi/routing.py\", line 428, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/fastapi/routing.py\", line 314, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/tongying/workspace/mlops-project/app/api/v1/endpoint/user.py\", line 71, in update_user\n    updated_user = await UserService(uow).user_update(user_in)\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/tongying/workspace/mlops-project/app/services/user_service.py\", line 172, in user_update\n    user = await self.uow.users.update(db_obj=User, obj_in=user_in)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/tongying/workspace/mlops-project/app/repositories/base.py\", line 117, in update\n    self.session.add(db_obj)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/session.py\", line 1143, in add\n    return self._proxied.add(instance, _warn=_warn)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 3465, in add\n    raise exc.UnmappedInstanceError(instance) from err\nsqlalchemy.orm.exc.UnmappedInstanceError: Class 'sqlalchemy.orm.decl_api.DeclarativeAttributeIntercept' is not mapped; was a class (app.models.orm.user.User) supplied where an instance was required?"}
{"timestamp": "2026-01-31T02:13:00.948394", "level": "INFO", "message": "系统初始化完成", "logger": "app.main", "module": "main", "func_name": "<module>", "line_no": 26}
{"timestamp": "2026-01-31T02:15:29.779034", "level": "INFO", "message": "系统初始化完成", "logger": "app.main", "module": "main", "func_name": "<module>", "line_no": 26}
{"timestamp": "2026-01-31T02:15:29.832178", "level": "INFO", "message": "select pg_catalog.version()", "logger": "sqlalchemy.engine.Engine", "module": "base", "func_name": "_execute_context", "line_no": 1846}
{"timestamp": "2026-01-31T02:15:29.832385", "level": "INFO", "message": "[raw sql] ()", "logger": "sqlalchemy.engine.Engine", "module": "base", "func_name": "_execute_context", "line_no": 1846}
{"timestamp": "2026-01-31T02:15:29.834538", "level": "INFO", "message": "select current_schema()", "logger": "sqlalchemy.engine.Engine", "module": "base", "func_name": "_execute_context", "line_no": 1846}
{"timestamp": "2026-01-31T02:15:29.834764", "level": "INFO", "message": "[raw sql] ()", "logger": "sqlalchemy.engine.Engine", "module": "base", "func_name": "_execute_context", "line_no": 1846}
{"timestamp": "2026-01-31T02:15:29.836689", "level": "INFO", "message": "show standard_conforming_strings", "logger": "sqlalchemy.engine.Engine", "module": "base", "func_name": "_execute_context", "line_no": 1846}
{"timestamp": "2026-01-31T02:15:29.836909", "level": "INFO", "message": "[raw sql] ()", "logger": "sqlalchemy.engine.Engine", "module": "base", "func_name": "_execute_context", "line_no": 1846}
{"timestamp": "2026-01-31T02:15:29.838142", "level": "INFO", "message": "BEGIN (implicit)", "logger": "sqlalchemy.engine.Engine", "module": "base", "func_name": "_connection_begin_impl", "line_no": 2710}
{"timestamp": "2026-01-31T02:15:29.840919", "level": "INFO", "message": "SELECT users.username AS users_username, users.email AS users_email, users.is_active AS users_is_active, users.is_superuser AS users_is_superuser, users.hashed_password AS users_hashed_password, users.id AS users_id, users.created_at AS users_created_at, users.updated_at AS users_updated_at \nFROM users \nWHERE users.id = $1::UUID", "logger": "sqlalchemy.engine.Engine", "module": "base", "func_name": "_execute_context", "line_no": 1846}
{"timestamp": "2026-01-31T02:15:29.841102", "level": "INFO", "message": "[generated in 0.00024s] (UUID('019c0fef-e556-cd1b-16b7-7742fe0617cd'),)", "logger": "sqlalchemy.engine.Engine", "module": "base", "func_name": "_execute_context", "line_no": 1846}
{"timestamp": "2026-01-31T02:15:29.844167", "level": "INFO", "message": "ROLLBACK", "logger": "sqlalchemy.engine.Engine", "module": "base", "func_name": "_connection_rollback_impl", "line_no": 2713}
{"timestamp": "2026-01-31T02:15:29.848363", "level": "ERROR", "message": "全局异常捕获: PATCH http://127.0.0.1:8000/api/v1/users/019c0fef-e556-cd1b-16b7-7742fe0617cd - Class 'sqlalchemy.orm.decl_api.DeclarativeAttributeIntercept' is not mapped; was a class (app.models.orm.user.User) supplied where an instance was required?", "logger": "app.core.exceptions", "module": "exceptions", "func_name": "global_exception_handler", "line_no": 44, "exception": "Traceback (most recent call last):\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 3129, in refresh\n    state = attributes.instance_state(instance)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nAttributeError: type object 'User' has no attribute '_sa_instance_state'\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/fastapi/routing.py\", line 118, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/fastapi/routing.py\", line 104, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/fastapi/routing.py\", line 428, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/fastapi/routing.py\", line 314, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/tongying/workspace/mlops-project/app/api/v1/endpoint/user.py\", line 71, in update_user\n    updated_user = await UserService(uow).user_update(user_in)\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/tongying/workspace/mlops-project/app/services/user_service.py\", line 172, in user_update\n    user = await self.uow.users.update(db_obj=User, obj_in=user_in)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/tongying/workspace/mlops-project/app/repositories/base.py\", line 118, in update\n    await self.session.refresh(db_obj)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/session.py\", line 329, in refresh\n    await greenlet_spawn(\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    result = context.switch(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 3131, in refresh\n    raise exc.UnmappedInstanceError(instance) from err\nsqlalchemy.orm.exc.UnmappedInstanceError: Class 'sqlalchemy.orm.decl_api.DeclarativeAttributeIntercept' is not mapped; was a class (app.models.orm.user.User) supplied where an instance was required?"}
{"timestamp": "2026-01-31T02:15:30.155041", "level": "INFO", "message": "系统初始化完成", "logger": "app.main", "module": "main", "func_name": "<module>", "line_no": 26}
{"timestamp": "2026-01-31T02:21:47.885469", "level": "INFO", "message": "系统初始化完成", "logger": "app.main", "module": "main", "func_name": "<module>", "line_no": 26}
{"timestamp": "2026-01-31T02:21:48.199647", "level": "INFO", "message": "系统初始化完成", "logger": "app.main", "module": "main", "func_name": "<module>", "line_no": 26}
{"timestamp": "2026-01-31T02:22:17.601121", "level": "INFO", "message": "select pg_catalog.version()", "logger": "sqlalchemy.engine.Engine", "module": "base", "func_name": "_execute_context", "line_no": 1846}
{"timestamp": "2026-01-31T02:22:17.601335", "level": "INFO", "message": "[raw sql] ()", "logger": "sqlalchemy.engine.Engine", "module": "base", "func_name": "_execute_context", "line_no": 1846}
{"timestamp": "2026-01-31T02:22:17.603205", "level": "INFO", "message": "select current_schema()", "logger": "sqlalchemy.engine.Engine", "module": "base", "func_name": "_execute_context", "line_no": 1846}
{"timestamp": "2026-01-31T02:22:17.603355", "level": "INFO", "message": "[raw sql] ()", "logger": "sqlalchemy.engine.Engine", "module": "base", "func_name": "_execute_context", "line_no": 1846}
{"timestamp": "2026-01-31T02:22:17.604877", "level": "INFO", "message": "show standard_conforming_strings", "logger": "sqlalchemy.engine.Engine", "module": "base", "func_name": "_execute_context", "line_no": 1846}
{"timestamp": "2026-01-31T02:22:17.605043", "level": "INFO", "message": "[raw sql] ()", "logger": "sqlalchemy.engine.Engine", "module": "base", "func_name": "_execute_context", "line_no": 1846}
{"timestamp": "2026-01-31T02:22:17.606702", "level": "INFO", "message": "BEGIN (implicit)", "logger": "sqlalchemy.engine.Engine", "module": "base", "func_name": "_connection_begin_impl", "line_no": 2710}
{"timestamp": "2026-01-31T02:22:17.609554", "level": "INFO", "message": "SELECT users.username AS users_username, users.email AS users_email, users.is_active AS users_is_active, users.is_superuser AS users_is_superuser, users.hashed_password AS users_hashed_password, users.id AS users_id, users.created_at AS users_created_at, users.updated_at AS users_updated_at \nFROM users \nWHERE users.id = $1::UUID", "logger": "sqlalchemy.engine.Engine", "module": "base", "func_name": "_execute_context", "line_no": 1846}
{"timestamp": "2026-01-31T02:22:17.609788", "level": "INFO", "message": "[generated in 0.00030s] (UUID('019c0fef-e556-cd1b-16b7-7742fe0617cd'),)", "logger": "sqlalchemy.engine.Engine", "module": "base", "func_name": "_execute_context", "line_no": 1846}
{"timestamp": "2026-01-31T02:22:17.612282", "level": "INFO", "message": "ROLLBACK", "logger": "sqlalchemy.engine.Engine", "module": "base", "func_name": "_connection_rollback_impl", "line_no": 2713}
{"timestamp": "2026-01-31T02:22:17.615232", "level": "ERROR", "message": "全局异常捕获: PATCH http://127.0.0.1:8000/api/v1/users/019c0fef-e556-cd1b-16b7-7742fe0617cd - Class 'sqlalchemy.orm.decl_api.DeclarativeAttributeIntercept' is not mapped; was a class (app.models.orm.user.User) supplied where an instance was required?", "logger": "app.core.exceptions", "module": "exceptions", "func_name": "global_exception_handler", "line_no": 44, "exception": "Traceback (most recent call last):\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 3463, in add\n    state = attributes.instance_state(instance)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nAttributeError: type object 'User' has no attribute '_sa_instance_state'\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/fastapi/routing.py\", line 118, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/fastapi/routing.py\", line 104, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/fastapi/routing.py\", line 428, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/fastapi/routing.py\", line 314, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/tongying/workspace/mlops-project/app/api/v1/endpoint/user.py\", line 71, in update_user\n    updated_user = await UserService(uow).user_update(user_in)\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/tongying/workspace/mlops-project/app/services/user_service.py\", line 172, in user_update\n    user = await self.uow.users.update(db_obj=User, obj_in=user_in)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/tongying/workspace/mlops-project/app/repositories/base.py\", line 117, in update\n    self.session.add(db_obj)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/session.py\", line 1143, in add\n    return self._proxied.add(instance, _warn=_warn)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 3465, in add\n    raise exc.UnmappedInstanceError(instance) from err\nsqlalchemy.orm.exc.UnmappedInstanceError: Class 'sqlalchemy.orm.decl_api.DeclarativeAttributeIntercept' is not mapped; was a class (app.models.orm.user.User) supplied where an instance was required?"}
{"timestamp": "2026-01-31T02:28:23.601192", "level": "INFO", "message": "系统初始化完成", "logger": "app.main", "module": "main", "func_name": "<module>", "line_no": 26}
{"timestamp": "2026-01-31T02:28:23.601223", "level": "INFO", "message": "系统初始化完成", "logger": "app.main", "module": "main", "func_name": "<module>", "line_no": 26}
{"timestamp": "2026-01-31T02:28:39.774130", "level": "INFO", "message": "系统初始化完成", "logger": "app.main", "module": "main", "func_name": "<module>", "line_no": 26}
{"timestamp": "2026-01-31T02:28:40.091434", "level": "INFO", "message": "系统初始化完成", "logger": "app.main", "module": "main", "func_name": "<module>", "line_no": 26}
{"timestamp": "2026-01-31T02:28:40.278406", "level": "INFO", "message": "select pg_catalog.version()", "logger": "sqlalchemy.engine.Engine", "module": "base", "func_name": "_execute_context", "line_no": 1846}
{"timestamp": "2026-01-31T02:28:40.278626", "level": "INFO", "message": "[raw sql] ()", "logger": "sqlalchemy.engine.Engine", "module": "base", "func_name": "_execute_context", "line_no": 1846}
{"timestamp": "2026-01-31T02:28:40.280624", "level": "INFO", "message": "select current_schema()", "logger": "sqlalchemy.engine.Engine", "module": "base", "func_name": "_execute_context", "line_no": 1846}
{"timestamp": "2026-01-31T02:28:40.280787", "level": "INFO", "message": "[raw sql] ()", "logger": "sqlalchemy.engine.Engine", "module": "base", "func_name": "_execute_context", "line_no": 1846}
{"timestamp": "2026-01-31T02:28:40.282411", "level": "INFO", "message": "show standard_conforming_strings", "logger": "sqlalchemy.engine.Engine", "module": "base", "func_name": "_execute_context", "line_no": 1846}
{"timestamp": "2026-01-31T02:28:40.282541", "level": "INFO", "message": "[raw sql] ()", "logger": "sqlalchemy.engine.Engine", "module": "base", "func_name": "_execute_context", "line_no": 1846}
{"timestamp": "2026-01-31T02:28:40.283840", "level": "INFO", "message": "BEGIN (implicit)", "logger": "sqlalchemy.engine.Engine", "module": "base", "func_name": "_connection_begin_impl", "line_no": 2710}
{"timestamp": "2026-01-31T02:28:40.286510", "level": "INFO", "message": "SELECT users.username AS users_username, users.email AS users_email, users.is_active AS users_is_active, users.is_superuser AS users_is_superuser, users.hashed_password AS users_hashed_password, users.id AS users_id, users.created_at AS users_created_at, users.updated_at AS users_updated_at \nFROM users \nWHERE users.id = $1::UUID", "logger": "sqlalchemy.engine.Engine", "module": "base", "func_name": "_execute_context", "line_no": 1846}
{"timestamp": "2026-01-31T02:28:40.286710", "level": "INFO", "message": "[generated in 0.00025s] (UUID('019c0fef-e556-cd1b-16b7-7742fe0617cd'),)", "logger": "sqlalchemy.engine.Engine", "module": "base", "func_name": "_execute_context", "line_no": 1846}
{"timestamp": "2026-01-31T02:28:40.288926", "level": "INFO", "message": "ROLLBACK", "logger": "sqlalchemy.engine.Engine", "module": "base", "func_name": "_connection_rollback_impl", "line_no": 2713}
{"timestamp": "2026-01-31T02:28:40.294965", "level": "ERROR", "message": "全局异常捕获: PATCH http://127.0.0.1:8000/api/v1/users/019c0fef-e556-cd1b-16b7-7742fe0617cd - UserService.user_update() missing 1 required positional argument: 'user_in'", "logger": "app.core.exceptions", "module": "exceptions", "func_name": "global_exception_handler", "line_no": 44, "exception": "Traceback (most recent call last):\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/fastapi/routing.py\", line 118, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/fastapi/routing.py\", line 104, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/fastapi/routing.py\", line 428, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/fastapi/routing.py\", line 314, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/tongying/workspace/mlops-project/app/api/v1/endpoint/user.py\", line 71, in update_user\n    updated_user = await UserService(uow).user_update(user_in)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: UserService.user_update() missing 1 required positional argument: 'user_in'"}
{"timestamp": "2026-01-31T02:30:22.918826", "level": "INFO", "message": "系统初始化完成", "logger": "app.main", "module": "main", "func_name": "<module>", "line_no": 26}
{"timestamp": "2026-01-31T02:30:23.491204", "level": "INFO", "message": "系统初始化完成", "logger": "app.main", "module": "main", "func_name": "<module>", "line_no": 26}
{"timestamp": "2026-01-31T02:30:24.174763", "level": "ERROR", "message": "全局异常捕获: PATCH http://127.0.0.1:8000/api/v1/users/019c0fef-e556-cd1b-16b7-7742fe0617cd - CRUDBase.get() got an unexpected keyword argument 'ident'", "logger": "app.core.exceptions", "module": "exceptions", "func_name": "global_exception_handler", "line_no": 44, "exception": "Traceback (most recent call last):\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/fastapi/routing.py\", line 118, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/fastapi/routing.py\", line 104, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/fastapi/routing.py\", line 428, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/tongying/workspace/mlops-project/.venv/lib/python3.11/site-packages/fastapi/routing.py\", line 314, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/tongying/workspace/mlops-project/app/api/v1/endpoint/user.py\", line 70, in update_user\n    updated_user = await UserService(uow).user_update(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/tongying/workspace/mlops-project/app/services/user_service.py\", line 173, in user_update\n    db_obj = await self.uow.users.get(ident=user_id)\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: CRUDBase.get() got an unexpected keyword argument 'ident'"}
{"timestamp": "2026-01-31T02:30:54.535447", "level": "INFO", "message": "系统初始化完成", "logger": "app.main", "module": "main", "func_name": "<module>", "line_no": 26}
{"timestamp": "2026-01-31T02:30:54.581297", "level": "INFO", "message": "select pg_catalog.version()", "logger": "sqlalchemy.engine.Engine", "module": "base", "func_name": "_execute_context", "line_no": 1846}
{"timestamp": "2026-01-31T02:30:54.581565", "level": "INFO", "message": "[raw sql] ()", "logger": "sqlalchemy.engine.Engine", "module": "base", "func_name": "_execute_context", "line_no": 1846}
{"timestamp": "2026-01-31T02:30:54.583371", "level": "INFO", "message": "select current_schema()", "logger": "sqlalchemy.engine.Engine", "module": "base", "func_name": "_execute_context", "line_no": 1846}
{"timestamp": "2026-01-31T02:30:54.583549", "level": "INFO", "message": "[raw sql] ()", "logger": "sqlalchemy.engine.Engine", "module": "base", "func_name": "_execute_context", "line_no": 1846}
{"timestamp": "2026-01-31T02:30:54.585065", "level": "INFO", "message": "show standard_conforming_strings", "logger": "sqlalchemy.engine.Engine", "module": "base", "func_name": "_execute_context", "line_no": 1846}
{"timestamp": "2026-01-31T02:30:54.585192", "level": "INFO", "message": "[raw sql] ()", "logger": "sqlalchemy.engine.Engine", "module": "base", "func_name": "_execute_context", "line_no": 1846}
{"timestamp": "2026-01-31T02:30:54.586416", "level": "INFO", "message": "BEGIN (implicit)", "logger": "sqlalchemy.engine.Engine", "module": "base", "func_name": "_connection_begin_impl", "line_no": 2710}
{"timestamp": "2026-01-31T02:30:54.589174", "level": "INFO", "message": "SELECT users.username AS users_username, users.email AS users_email, users.is_active AS users_is_active, users.is_superuser AS users_is_superuser, users.hashed_password AS users_hashed_password, users.id AS users_id, users.created_at AS users_created_at, users.updated_at AS users_updated_at \nFROM users \nWHERE users.id = $1::UUID", "logger": "sqlalchemy.engine.Engine", "module": "base", "func_name": "_execute_context", "line_no": 1846}
{"timestamp": "2026-01-31T02:30:54.589345", "level": "INFO", "message": "[generated in 0.00023s] (UUID('019c0fef-e556-cd1b-16b7-7742fe0617cd'),)", "logger": "sqlalchemy.engine.Engine", "module": "base", "func_name": "_execute_context", "line_no": 1846}
{"timestamp": "2026-01-31T02:30:54.592567", "level": "INFO", "message": "UPDATE users SET username=$1::VARCHAR, email=$2::VARCHAR, updated_at=now() WHERE users.id = $3::UUID", "logger": "sqlalchemy.engine.Engine", "module": "base", "func_name": "_execute_context", "line_no": 1846}
{"timestamp": "2026-01-31T02:30:54.592751", "level": "INFO", "message": "[generated in 0.00028s] ('test', 'test@test.com', UUID('019c0fef-e556-cd1b-16b7-7742fe0617cd'))", "logger": "sqlalchemy.engine.Engine", "module": "base", "func_name": "_execute_context", "line_no": 1846}
{"timestamp": "2026-01-31T02:30:54.597807", "level": "INFO", "message": "SELECT users.username, users.email, users.is_active, users.is_superuser, users.hashed_password, users.id, users.created_at, users.updated_at \nFROM users \nWHERE users.id = $1::UUID", "logger": "sqlalchemy.engine.Engine", "module": "base", "func_name": "_execute_context", "line_no": 1846}
{"timestamp": "2026-01-31T02:30:54.598038", "level": "INFO", "message": "[generated in 0.00029s] (UUID('019c0fef-e556-cd1b-16b7-7742fe0617cd'),)", "logger": "sqlalchemy.engine.Engine", "module": "base", "func_name": "_execute_context", "line_no": 1846}
{"timestamp": "2026-01-31T02:30:54.599575", "level": "INFO", "message": "COMMIT", "logger": "sqlalchemy.engine.Engine", "module": "base", "func_name": "_connection_commit_impl", "line_no": 2716}
{"timestamp": "2026-01-31T02:30:54.854437", "level": "INFO", "message": "系统初始化完成", "logger": "app.main", "module": "main", "func_name": "<module>", "line_no": 26}
